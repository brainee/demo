@using System.Configuration; @{ ViewBag.Title = "detail"; }<script type="text/lizard-config">{url_schema:["/detail/{id}.html","/detail/{{city}}{{(int)cityId}}"],model:{apis:[{name:"api1",url:'@ConfigurationManager.AppSettings["restfullApi"]detail/api1',postdata:{id:Lizard.P("id"),key:Lizard.P("key")}},{name:"api2",url:'@ConfigurationManager.AppSettings["restfullApi"]detail/api2',postdata:{id:Lizard.P("id"),dependents:function(){return Lizard.D("api1") .request},nest:{request:function(){var i=_.find([1,2,3,4,5,6],function(i){return i%2==0});return i}()}},suspend:function(){var i=Lizard.D("api1") ;return"api1"==i.request}},{name:"api3",url:'@ConfigurationManager.AppSettings["restfullApi"]detail/api3',postdata:{id:Lizard.P("id")},suspend:function(){var i=Lizard.D("api1") ;return"api2"==i.request}}],filter:function(i){var t=[];return _.each(i,function(i){i.list&&(t=t.concat(i.list))}),{request:i[0].request,list:t}},setTDK:function(){return{title:"title",description:"detail",keywords:"keywords"}}},view:{viewport:Lizard.T("viewportTmpl")},controller:"/webapp/demo/dest/webresource/controllers/detail.js?v=20141209_5_04"}</script><script id="viewportTmpl" type="text/lizard-template"><h2>suspend test</h2><h3>api name: <%=request%></h3><ul><%_.each(list, function(item) {%><li><%=item.id%>, <%=item.city%> <%})%></li></ul></script>
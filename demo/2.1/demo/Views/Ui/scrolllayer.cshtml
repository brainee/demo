@{
  ViewBag.Title = "Ui index";
}
<script type="text/lizard-config">
{
  url_schema: 'ui/scrolllayer',
  viewName: 'ui_scrolllayer',
  models: {
    apis: [],
    filter: function(datas) {
      return {

      };
    }
  },
  view:{
    viewport: Lizard.T("viewportTmpl")
  },
  controller: '/webapp/demo2.1/webresource/controllers/ui/scrolllayer.js'
}
</script>

<script id="viewportTmpl" type="text/lizard-template">

  <style>
    /*=S 费用明细浮层内容 */
    .cost_detail {
      padding: 0 10px;
    }

      .cost_detail li {
        border-bottom: 1px solid #bcbcbc;
        padding: 8px 0;
      }

        .cost_detail li:last-child {
          border-bottom: none;
        }

      .cost_detail .cost_title {
        padding-bottom: 8px;
        font-size: 14px;
        line-height: 1.2;
      }

      .cost_detail .cost_list {
        padding: 4px 0;
        font-size: 12px;
        line-height: 14px;
      }

        .cost_detail .cost_list:after {
          clear: both;
          display: block;
          height: 0;
          overflow: hidden;
          visibility: hidden;
          content: ".";
        }

        .cost_detail .cost_list .cost_list_title {
          overflow: hidden;
          text-align: left;
        }

        .cost_detail .cost_list .cost_list_price {
          float: right;
          margin-left: 10px;
        }

      .cost_detail .sub_total {
        padding-top: 3px;
        text-align: right;
        font-size: 14px;
      }

      .cost_detail .cost_youhui {
        font-size: 12px;
        padding: 4px 0;
        font-size: 12px;
        line-height: 14px;
      }

    .cost_btn_wrap {
      height: 44px;
      padding-left: 10px;
      background: #ff9a14;
      color: #fff;
      font-size: 12px;
    }

      .cost_btn_wrap .btn_costsubmit {
        width: 70px;
        float: right;
        line-height: 44px;
        font-size: 14px;
        background: #ff7d13;
        text-align: center;
      }

      .cost_btn_wrap .cost_detail_txt {
        float: right;
        padding: 0 6px;
        line-height: 44px;
        font-size: 14px;
      }

        .cost_btn_wrap .cost_detail_txt span {
          border-bottom: 1px dashed #ffd6b3;
        }

      .cost_btn_wrap .customers_info {
        float: left;
        width: 138px;
        padding-top: 7px;
        overflow: hidden;
        line-height: 1.4;
      }
    /*=E 费用明细浮层内容 */

    .id-checkbox {
      display: inline-block;
      vertical-align: -3px;
      width: 16px;
      height: 16px;
      border: 1px solid #cccccc;
      background-color: #fff;
      position: relative;
      margin-right: 5px;
    }

      .id-checkbox.checked {
        border-color: #099fde;
      }

        .id-checkbox.checked::after {
          content: "";
          height: 4px;
          width: 12px;
          border: 1px solid #099fde;
          border-width: 0 0 1px 1px;
          position: absolute;
          top: 1px;
          left: 3px;
          -webkit-transform: rotate(-45deg);
          transform: rotate(-45deg);
        }

        .id-checkbox.checked::before {
          content: "";
          width: 3px;
          height: 5px;
          background-color: #fff;
          position: absolute;
          right: -1px;
          top: -1px;
        }

    .line-list li {
      border-bottom: 1px solid #dbdbdb;
      background-color: #fff;
      line-height: 43px;
      padding: 0 10px;
      position: relative;
    }

      .line-list li:last-child {
        border-bottom: none;
      }

      .line-list li:active, .line-list li:hover {
        background-color: whitesmoke;
      }

      .line-list li .title {
        line-height: 1.3;
        margin-bottom: 4px;
      }

      .line-list li .intro {
        line-height: 1.3;
        font-size: 1.2rem;
      }

      .line-list li i[class^="icon-"] {
        margin-right: 5px;
      }

    .line-list .divider {
      padding-left: 10px;
      line-height: 34px;
      font-weight: bold;
      background-color: whitesmoke;
    }

    .line-list--box {
      border: 1px solid #dbdbdb;
      border-width: 1px 0;
    }

    .line-list--radio li {
      padding-right: 35px;
    }

      .line-list--radio li.checked {
        padding-right: 20px;
      }

        .line-list--radio li.checked::after {
          content: "";
          width: 14px;
          height: 6px;
          border-bottom: 1px solid #099fde;
          border-left: 1px solid #099fde;
          position: absolute;
          top: 50%;
          right: 8px;
          margin-top: -4px;
          -webkit-transform: rotate(-45deg) translateY(-50%);
          transform: rotate(-45deg) translateY(-50%);
        }

    .line-list--multi li {
      padding-top: 5px;
      padding-bottom: 5px;
    }

    .line-list {
      width: 100%;
    }
  </style>
 <div class="cui-citys-bd">
 </div>
<pre><code>
var html = '&lt;div class="isd-mapbox"&gt;&lt;h3&gt;&nbsp;大宁店&lt;i class="x-ico"&gt;&lt;/i&gt;&lt;/h3&gt;&lt;div id="mapcontainer" class="amap-container amap-fade-anim" style="width: 100%; height: 175px;"&gt;&lt;div class="amap-maps" style="transform: translate3d(0px, 0px, 0px);"&gt;&lt;div class="amap-layers"&gt;&lt;div class="amap-layer" style="z-index: 1;"&gt;&lt;div class="amap-tile-container amap-zoom-animated"&gt;&lt;/div&gt;&lt;div class="amap-tile-container amap-zoom-animated"&gt;&lt;div class="amap-copyright" style="display: none;"&gt;地图数据 ©2014 AutoNavi - GS(2014)6002号&lt;/div&gt;&lt;/div&gt;&lt;div class="content"&gt;&lt;p&gt;营业时间：&lt;span&gt;08:00&nbsp;-&nbsp;20:00&lt;/span&gt;&lt;/p&gt;&lt;p&gt;联系电话：&lt;span&gt;021-66306100&lt;/span&gt;&lt;/p&gt;&lt;p&gt;&lt;span style="float: left;"&gt;具体地址：&lt;/span&gt;&lt;span style="-webkit-box-orient: vertical;overflow: hidden;display: -webkit-box;-webkit-line-clamp: 3;"&gt;上海市闸北区灵石路695号&lt;/span&gt;&lt;/p&gt;&lt;/div&gt;&lt;div class="btn-bar"&gt;&lt;p&gt;¥&lt;span&gt;79&lt;/span&gt;/天&lt;/p&gt;&lt;span class="obtn" id="bookBtn" data-index="0"&gt;立即预订&lt;/span&gt;&lt;/div&gt;&lt;p&gt;&lt;/p&gt;&lt;/div&gt;';
 </code></pre>
<pre><code>
demo01: function () {
  if (!this.scrollLayer01) {
    this.scrollLayer01 = new UIScrollLayer({
      datamodel: {
        title: '',
        btns: []
      },
      events: {
        'click  .x-ico': 'selfClick',
        'click #bookBtn': 'bookAction'
      },
      selfClick: function () {
        this.hide();
      },
      bookAction: function () {
        alert('预定');
        this.hide();
      },
      html: html,
      width: $(window).width() * 0.8,
      okAction: function () {
        console.log('that\'s ok');
        this.hide();
      },
      cancelAction: function () {
        console.log('that\'s cancel');
        this.hide();
      }
    });
  }
  this.scrollLayer01.show();
},
</code></pre>

  <span class="btn-secondary full-width js_demo01">完全定制化，去头去尾，事件定制化</span>

  <pre><code>
//onHide时候记得关闭该组件
demo02: function () {
  var scope = this;
  if (!this.scroll3) {
    var html = '';
    for (var i = 0; i < 40; i++) {
      html += '&lt;li data-index="' + i + '"&gt;&lt;i class="id-checkbox"&gt;&lt;/i&gt;项目名称' + i + '&lt;/li&gt;';
    }
    html = '&lt;ul class="line-list line-list--checkbox"&gt;' + html + '&lt;/ul&gt;';

    this.scroll3 = new UIScrollLayer({
      maxHeight: 250,
      html: html,
      datamodel: {
        title: '模拟list',
        btns: [
          { name: '取消', className: 'cui-btns-cancel' },
          { name: '确定', className: 'cui-btns-ok' }
        ]
      },
      events: {
        'click .cui-btns-ok': 'myOkAction',
        'click .cui-btns-cancel': 'myCancelAction',
        'click .line-list li': 'itemClick'
      },
      myOkAction: function () {
        var doms = this.$('i.checked');
        var secHtml = '';
        $.each(doms, function (i, el) {
          el = $(el).parent();
          var i = el.attr('data-index');
          secHtml += i + ', ';
        });
        scope.showToast('所选索引： ' + secHtml);
        this.hide();
      },
      myCancelAction: function () {
        console.log('my cancel');
        this.hide();
      },
      itemClick: function (e) {
        var el = $(e.currentTarget);
        var i = el.attr('data-index');
        el = el.find('.id-checkbox');
        if (el.hasClass('checked')) el.removeClass('checked');
        else el.addClass('checked');
      }
    });
  }
  this.scroll3.show();
},
   </code></pre>
  

  <span class="btn-secondary full-width js_demo02">高级用法，模拟list</span>

  <style>
    .hotel-detail-layer {
      background: #fff;
      width: 100%;
      line-height: 22px;
    }

      .hotel-detail-layer .layer-hd i {
        width: 15px;
        height: 15px;
        margin: 2px 15px 0 0;
        float: left;
      }

      .hotel-detail-layer .layer-hd span {
        min-width: 50px;
        color: #666;
        float: left;
        margin-right: 5px;
      }

      .hotel-detail-layer p {
        overflow: hidden;
      }

      .hotel-detail-layer .layer-bd li {
        padding: 10px;
        color: #666;
        overflow: hidden;
      }

        .hotel-detail-layer .layer-bd li.bt-border {
          box-shadow: 0 -1px 0 #bcbcbc inset;
        }

      .hotel-detail-layer .hotel-layer-txt {
        background: #efefef;
      }

      .hotel-detail-layer .layer-bd .ico-txt {
        float: left;
        min-width: 30px;
        margin-right: 10px;
      }

      .hotel-detail-layer .layer-bd b {
        color: black;
      }

      .hotel-detail-layer .layer-bd .hotel-g-btn {
        padding: 5px 35px;
      }

      .hotel-detail-layer .xslide-image-loading {
        width: 100%;
        height: 100%;
      }

    .hotel-dpage-currency {
      color: #099FDE;
      min-width: 50px;
      float: right;
      text-align: right;
    }

    .g-font-sy {
      color: #000;
      font-size: 13px;
      padding-right: 3px;
    }

    .hotel-detail-layer .layer-bd li.hotel-price-show {
      color: #000;
    }

    .hotel-hyd-comments .hd {
      width: 100%;
      position: fixed;
      left: 0;
      top: 48px;
      z-index: 2;
    }

      .hotel-hyd-comments .hd.hybrid-hd {
        top: 0px;
      }

    .hotel-hyd-comments .bd .hyd-total dt {
      width: 70px;
      padding: 10px 0;
      float: left;
      text-align: center;
    }

    .hotel-hyd-comments .bd .hyd-total dd {
      width: 37%;
      display: inline-block;
      padding: 10px 0 0 5px;
      box-sizing: border-box;
    }

      .hotel-hyd-comments .bd .hyd-total dd:nth-of-type(n+3) {
        padding: 0 0 8px 5px;
      }

    .hotel-hyd-rate {
      width: 40px;
      height: 8px;
      margin: 0 5px;
      display: inline-block;
      vertical-align: middle;
      background: #ccc;
    }

      .hotel-hyd-rate i {
        max-width: 100%;
        height: 100%;
        display: inline-block;
        vertical-align: top;
        background: #099fde;
      }

    .hotel-hyd-tag span {
      max-width: 100px;
      height: 22px;
      line-height: 22px;
      background: #fff;
      overflow: hidden;
      padding: 5px;
      float: left;
      margin: 10px 0 0 10px;
    }

      .hotel-hyd-tag span.current {
        border: #099fde 1px solid;
        background: #099fde;
        color: #fff;
      }

    .hotel-hyd-content li {
      padding: 10px;
      margin-top: -1px;
      word-break: break-all;
    }

      .hotel-hyd-content li:active {
        background: rgba(0,0,0,0);
      }

    .hotel-hyd-content em {
      padding-right: 10px;
    }

    .hotel-hyd-content .ptb {
      padding: 8px 0;
    }

    .hotel-hyd-img img {
      border: #ccc 1px solid;
      margin: 10px 10px 0 0;
    }

    .hotel-hyd-img.least1 img {
      width: 150px;
      height: 112px;
    }

    .hotel-hyd-img.least2 img {
      width: 75px;
      height: 75px;
    }

    .ico-txt em {
      padding: 0 2px;
      font-size: 12px;
      border-radius: 2px;
    }

    .ico-1 {
      border: 1px solid #84cfee;
      color: #099fde;
    }

    .ico-2 {
      border: 1px solid #ffcc89;
      color: #ffaa16;
    }

    .ico-3 {
      border: 1px solid #ffa1a1;
      color: #ff4444;
    }

    .price-num {
      color: #666;
      font-size: 12px;
    }

    .hotel-detail-layer .xslide-image-loading {
      width: 100%;
      height: 100%;
    }

    .price-num .num, .g-price {
      color: #ff9a14;
      font-size: 18px;
      line-height: 20px;
      font-weight: normal;
      margin-right: 2px;
      float: left;
    }

    .rate-num {
      color: #099FDE;
      margin-right: 5px;
      line-height: 20px;
    }


    .hotel-icon-full-house {
      width: 0;
      height: 0;
      border-top: 38px solid #ff8400;
      border-left: 38px solid transparent;
      position: absolute;
      right: 0;
      top: 0;
    }

      .hotel-icon-full-house:before {
        position: absolute;
        top: -33px;
        left: -25px;
        line-height: 18px;
        content: "满房";
        font-size: 12px;
        color: #fff;
        -webkit-transform: rotate(45deg);
        -moz-transform: rotate(45deg);
        -ms-transform: rotate(45deg);
        transform: rotate(45deg);
      }

    .hotle-pd-arr li {
      padding-right: 25px;
    }

    .hotel-g-btn {
      padding: 5px 10px;
      min-width: 75px;
      color: #fff;
      -webkit-border-radius: 3px;
      border-radius: 3px;
      background: #ff9a14;
      float: right;
    }

    .hotel-g-proimg {
      position: relative;
      float: left;
      overflow: hidden;
      margin-right: 10px;
      background: #f2f2f2 url(http://pic.c-ctrip.com/h5/hotel/hotel-loading-default.png) center center no-repeat;
      background-size: 27px 29px;
    }

      .hotel-g-proimg img {
        width: 98px;
        height: 98px;
        margin: -1px;
        float: left;
        vertical-align: middle;
      }

        .hotel-g-proimg img[alt] {
          color: transparent;
        }

      .hotel-g-proimg .img-g-bg {
        color: #fff;
        text-align: center;
        width: 65px;
        height: 19px;
        line-height: 20px;
        overflow: hidden;
        font-size: 13px;
        position: absolute;
        bottom: 0;
        left: 0;
        background: rgba(0,0,0,.7);
      }

    .price-num {
      color: #666;
      font-size: 12px;
    }

      .price-num .num, .g-price {
        color: #ff9a14;
        font-size: 18px;
        line-height: 20px;
        font-weight: normal;
        margin-right: 2px;
      }

    .rate-num {
      color: #099FDE;
      margin-right: 5px;
      line-height: 20px;
    }

      .rate-num b, .clyx-line em b {
        font-size: 18px;
        margin-right: 2px;
      }

    .hotel-login-tips {
      display: inline-block;
      margin-top: 6px;
    }

    .hotel-cond-bar {
      border-bottom: 0;
    }

    .hotel-bar-cnum {
      min-width: 7px;
      min-height: 13px;
      line-height: 13px;
      display: inline-block;
      -webkit-border-radius: 13px;
      border-radius: 13px;
      background: #099fde;
      color: #fff;
      font-size: 12px;
      padding: 0 3px;
    }

    .hotel-away {
      font-size: 12px;
      position: fixed;
      z-index: 1000;
      top: 48px;
      padding: 4px 0 4px 10px;
      line-height: 24px;
      min-height: 33px;
      color: #fff;
      background: rgba(40,56,71,.9);
      width: 100%;
      -webkit-box-sizing: border-box;
      box-sizing: border-box;
    }

    .hotel-list-topinfo {
      padding: 4px 10px;
      background: #ffeea0;
      color: #34301d;
      font-size: 12px;
      border-bottom: #fff 1px solid;
      box-shadow: 0 1px 0 #ffc067;
      word-break: break-all;
      display: none;
    }

    .hotel-icon-refresh {
      width: 37px;
      height: 29px;
      margin-top: -4px;
      position: relative;
    }

      .hotel-icon-refresh.refresh-rotate {
        -webkit-animation: rotate 850ms ease-in-out infinite;
        -moz-animation: rotate 850ms ease-in-out infinite;
        -ms-animation: rotate 850ms ease-in-out infinite;
        animation: rotate 850ms ease-in-out infinite;
        -webkit-transform-origin: 50% 53%;
        -moz-transform-origin: 50% 53%;
        -ms-transform-origin: 50% 53%;
        transform-origin: 50% 53%;
      }

    .hotel-noresults-tips {
      position: relative;
      text-align: center;
      padding: 65px 0 10px;
      color: #666;
    }
  </style>
  <pre><code>
 var html = '&lt;div class="cui-bd" style="overflow: hidden; position: relative; width: 100%; max-height: 547px; min-height: 50px; background-color: rgb(250, 250, 250);"&gt;&lt;div class="hotel-detail-layer" style="background-color: white;"&gt;&lt;div class="js_pop_slide_container" style="width: 100%; height: 190px; margin: auto; overflow: hidden; position: relative;"&gt;&lt;div class="xslide-box-container" style="width: 280px; height: 190px;"&gt;&lt;/div&gt;&lt;/div&gt;&lt;ul class="layer-hd p10 js_part1_info"&gt;&lt;li&gt;&lt;i class="hotel-icon-area"&gt;&lt;/i&gt;&lt;span&gt;面积&lt;/span&gt;26㎡&lt;/li&gt; &lt;li&gt;&lt;i class="hotel-icon-people"&gt;&lt;/i&gt;&lt;span&gt;可住&lt;/span&gt;2人&lt;/li&gt; &lt;li&gt;&lt;i class="hotel-icon-bed2"&gt;&lt;/i&gt;该房型不可加床&lt;/li&gt; &lt;li&gt;&lt;i class="hotel-icon-floor"&gt;&lt;/i&gt;&lt;span&gt;楼层&lt;/span&gt;3-8层&lt;/li&gt; &lt;li&gt;&lt;i class="hotel-icon-beds-width"&gt;&lt;/i&gt;&lt;span&gt;床宽&lt;/span&gt;&lt;p&gt;大床 1.50米&lt;/p&gt;&lt;/li&gt; &lt;li&gt;&lt;i class="hotel-icon-browser"&gt;&lt;/i&gt;&lt;span&gt;宽带&lt;/span&gt;&lt;p&gt;免费有线宽带&lt;/p&gt;&lt;/li&gt;  &lt;li&gt;&lt;i class="hotel-icon-smoke"&gt;&lt;/i&gt;&lt;span&gt;无烟&lt;/span&gt;&lt;p&gt;该房可无烟处理&lt;/p&gt;&lt;/li&gt;  &lt;/ul&gt;&lt;ul class="layer-bd"&gt; &lt;li&gt;&lt;span class="ico-txt"&gt;&lt;em class="ico-2"&gt;可返&lt;/em&gt;&lt;/span&gt;&lt;p&gt;2014-09-23至2015-12-31期间入住，每间夜最多可以使用79元消费券。自入住日起3个月内申请返现，订单成交3个工作日后可获得等额返现至现金账户。&lt;/p&gt;&lt;/li&gt;    &lt;/ul&gt;&lt;/div&gt;&lt;/div&gt;';
    </code></pre>
  <pre><code>
demo03: function () {
  var scope = this;
  if (!this.scroll4) {
   
    this.scroll4 = new UIScrollLayer({
      maxHeight: 300,
      html: html,
      scrollOpts: {
        scrollbars: false,
        bounce: false
      },
      datamodel: {
        title: '高级大床房',
        btns: '&lt;div class="hotel-detail-layer"&gt;&lt;ul class="layer-bd"&gt;&lt;li&gt;&lt;button class="hotel-g-btn js_btn_book "&gt;预订&lt;/button&gt;&lt;em class="g-price"&gt;&lt;small&gt;¥&lt;/small&gt;830&lt;/em&gt;&lt;/li&gt;&lt;/ul&gt;&lt;/div&gt;'
      },
      events: {
        'click .cui-btns-ok': 'myOkAction',
        'click .cui-btns-cancel': 'myCancelAction',
        'click .js_btn_book': 'booking'
      },
      myOkAction: function () {
        var doms = this.$('i.checked');
        var secHtml = '';
        $.each(doms, function (i, el) {
          el = $(el).parent();
          var i = el.attr('data-index');
          secHtml += i + ', ';
        });
        scope.showToast('所选索引： ' + secHtml);
        this.hide();
      },
      myCancelAction: function () {
        console.log('my cancel');
        this.hide();
      },
      booking: function (e) {
        scope.showToast('预定流程');
        this.hide();
      }
    });
  }
  this.scroll4.show();
  //在此装载slider组件
  var slider_wrapper = this.scroll4.$('.xslide-box-container');
  var data = [
    { id: 1, src: '../webresource/style/imgs/1.jpg', href: './res/img/1.jpg' },
    { id: 2, src: '../webresource/style/imgs/2.jpg', href: './res/img/2.jpg' },
    { id: 3, src: '../webresource/style/imgs/3.jpg', href: './res/img/3.jpg' },
    { id: 4, src: '../webresource/style/imgs/4.jpg', href: './res/img/4.jpg' }
  ];
  if (!this.imgSlider) {
    this.imgSlider = new UIImageSlider({
      datamodel: {
        data: data,
        itemFn: function (item) {
          return '&lt;img src="' + item.src + '" class="xslide-image-loading"&gt;';
        }
      },
      displayNum: 1,
      wrapper: slider_wrapper,
      changed: function (item) {
      }
    });
  }
  this.imgSlider.show();
},
  </code></pre>

  <span class="btn-secondary full-width js_demo03">高级用法，组件装载</span>


  <br />
  <br />
  <br />
  <br />
  <br />
</script>